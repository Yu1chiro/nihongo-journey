<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Nihongo Kiroku - Belajar bahasa Jepang dengan mudah dan menyenangkan. Mulai petualanganmu hari ini!" />
    <meta name="keywords" content="belajar bahasa Jepang, Nihongo Kiroku, kursus Jepang, hiragana, katakana, kanji, JLPT" />
    <meta name="author" content="Nihongo Kiroku" />
    <!-- Open Graph (Facebook, Discord, Line, WhatsApp, LinkedIn) -->
    <meta property="og:title" content="Nihongo Kiroku" />
    <meta property="og:description" content="Petualangan menyenangkan belajar bahasa Jepang untuk pemula hingga mahir." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://nihongo-journey.vercel.app" />
    <meta property="og:image" content="https://nihongo-journey.vercel.app/icon" />
    <!-- Gambar thumbnail -->
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Nihongo Kiroku" />
    <meta name="twitter:description" content="Petualangan menyenangkan belajar bahasa Jepang untuk pemula hingga mahir." />
    <meta name="twitter:image" content="https://nihongo-journey.vercel.app/icon" />
    <title>Nihongo Kiroku | Yuichiro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="shortcut icon" href="/icon" type="image/x-icon" />
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <link rel="stylesheet" href="index.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#8ECAE6",
              secondary: "#219EBC",
              accent: "#023047",
              light: "#F8F9FA",
              paper: "#F5F5F5",
              natural: "#E9EDC9",
            },
            fontFamily: {
              sans: ['"Noto Sans JP"', "sans-serif"],
            },
          },
        },
      };
    </script>
  </head>
  <body class="bg-light text-accent">
    <!-- Navbar -->
    <nav class="bg-white py-4 shadow-sm wabi-border">
      <div class="container mx-auto px-4 flex justify-between items-center">
        <div class="flex items-center space-x-3">
         <img src="/icon" class="h-10 w-10 rounded-lg" alt="">
          <span class="text-xl font-medium">Nihongo Kiroku</span>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-pattern py-16 md:py-24">
      <div class="container mx-auto px-4 flex flex-col md:flex-row items-center">
        <div class="md:w-1/2 mb-12 md:mb-0">
          <h1 class="text-3xl md:text-4xl font-medium mb-6 leading-tight">Belajar Bahasa Jepang Lebih Seru Dengan <span class="text-secondary"> Nihongo Kiroku </span></h1>
          <p class="text-lg text-gray-600 mb-8">Platform pembelajaran bahasa jepang beginner friendly dengan Gemini</p>
          <div class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4">
            <a href="#features" class="bg-secondary hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium text-center transition duration-300 shadow-sm"> Lihat Fitur </a>
            <a href="#signInBtn" class="bg-green-500 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium text-center transition duration-300 shadow-sm"> Mulai Belajar </a>
          </div>
        </div>
        <div class="md:w-1/2 flex justify-center">
          <div class="wabi-border p-2 bg-white shadow-sm">
            <img src="icon.png" alt="Belajar dengan Tenang" class="w-full max-w-md" />
          </div>
        </div>
      </div>
    </section>
      <section id="about" class="py-16 bg-paper">
  <div class="container mx-auto px-4">
    <div class="max-w-4xl mx-auto text-center">
      <h2 class="text-3xl font-medium mb-6 text-accent">Tentang Nihongo Kiroku</h2>
      <div class="w-20 h-1 bg-secondary mx-auto mb-8 rounded-full"></div>
      
      <div class="space-y-6 text-justify p-3">
        <p class="text-gray-700 text-lg leading-relaxed">
          Nihongo Kiroku adalah sebuah platform pembelajaran bahasa Jepang yang dirancang secara terstruktur dan berbasis roadmap, khusus ditujukan bagi pemula yang ingin memulai perjalanan belajar dari dasar. Melalui pendekatan bertahap, pengguna akan dipandu memahami berbagai materi penting seperti perkenalan diri, pembahasan tentang hobi, keluarga, hingga percakapan sehari-hari dalam bahasa Jepang. Terinspirasi dari pendekatan eksperimental ala Google Labs, dipadukan dengan pengalaman pribadi saya sebagai pembelajar bahasa Jepang yang sempat mengalami kebingungan dalam menentukan arah belajar yang tepat. Berangkat dari keinginan sederhana untuk memahami bahasa Jepang secara praktis dan komunikatif, serta pengalaman mengajar selama dua tahun di tingkat JLPT N5 hingga N4 ditambah pemahaman mendalam terhadap isi buku Minna no Nihongo 1 dan 2. Saya merasa terdorong untuk menciptakan sebuah ruang belajar yang tidak hanya informatif, tetapi juga personal dan progresif.
        </p>
        
        <p class="text-gray-700 text-lg leading-relaxed">
          Nama Nihongo Kiroku（日本語記録） dipilih karena secara semantik mengandung makna yang merepresentasikan inti dari platform ini. "Nihongo" berarti bahasa Jepang, sementara "Kiroku" berarti catatan atau dokumentasi. Secara harfiah, nama ini mencerminkan gagasan bahwa proses belajar adalah sesuatu yang perlu dicatat, ditata, dan dilacak perkembangannya. Dari sisi makna semiotik, nama ini menjadi simbol dari perjalanan intelektual dan pencapaian personal setiap pengguna, setiap langkah kecil dalam memahami bahasa Jepang adalah bagian dari sebuah kisah belajar yang bernilai. Dengan demikian, Nihongo Kiroku bukan hanya sekadar media belajar, tetapi juga ruang reflektif yang memungkinkan pengguna merekam jejak proses belajarnya sendiri, selangkah demi selangkah.
        </p>
      </div>
      
      <div class="mt-10 flex justify-center gap-4">
       <p class="text-gray-700 text-xs">Yuichiro | 2025</p>
        
      </div>
    </div>
  </div>
</section>

<section id="features" class="py-16 bg-paper">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-medium mb-3 text-accent">Fitur yang Menenangkan</h2>
      <div class="w-20 h-1 bg-secondary mx-auto mb-6 rounded-full"></div>
      <p class="text-gray-600 max-w-2xl mx-auto text-lg">Setiap fitur dirancang untuk mengurangi kecemasan dan meningkatkan fokus pada pembelajaran.</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
      <!-- Feature 1 - Roadmap Terstruktur -->
      <div class="feature-card p-8 rounded-xl bg-white shadow-sm hover:shadow-md transition-shadow duration-300 border border-natural">
        <div class="w-12 h-12 bg-primary bg-opacity-20 rounded-full flex items-center justify-center mb-5 mx-auto">
          <i class="fas fa-map-marked-alt text-secondary text-xl"></i>
        </div>
        <h3 class="text-xl font-medium mb-3 text-center text-accent">Roadmap Terstruktur</h3>
        <p class="text-gray-600 text-center">Panduan belajar bertahap yang jelas dan terstruktur.</p>
      </div>

      <!-- Feature 2 - Gemini Integration -->
      <div class="feature-card p-8 rounded-xl bg-white shadow-sm hover:shadow-md transition-shadow duration-300 border border-natural transform hover:scale-[1.02] transition-transform">
        <div class="w-12 h-12 bg-primary bg-opacity-20 rounded-full flex items-center justify-center mb-5 mx-auto">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-6 h-6 text-secondary">
            <path fill="currentColor" d="M12 2a10 10 0 0 0-10 10a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2m0 2a8 8 0 0 1 8 8a8 8 0 0 1-8 8a8 8 0 0 1-8-8a8 8 0 0 1 8-8m-5 6l5 5l5-5H7z"/>
          </svg>
        </div>
        <h3 class="text-xl font-medium mb-3 text-center text-accent">Materi by Gemini</h3>
        <p class="text-gray-600 text-center">Konten cerdas yang beradaptasi dengan gaya belajar Anda, seperti teh yang diseduh sempurna untuk selera Anda.</p>
      </div>

      <!-- Feature 3 - Progress Tracking -->
      <div class="feature-card p-8 rounded-xl bg-white shadow-sm hover:shadow-md transition-shadow duration-300 border border-natural">
        <div class="w-12 h-12 bg-primary bg-opacity-20 rounded-full flex items-center justify-center mb-5 mx-auto">
          <i class="fas fa-chart-line text-secondary text-xl"></i>
        </div>
        <h3 class="text-xl font-medium mb-3 text-center text-accent">Progress Tracking</h3>
        <p class="text-gray-600 text-center">Menyajikan progress pembelajaranmu di setiap proses</p>
      </div>

      <!-- Feature 4 - Flashcards -->
      <div class="feature-card p-8 rounded-xl bg-white shadow-sm hover:shadow-md transition-shadow duration-300 border border-natural">
        <div class="w-12 h-12 bg-primary bg-opacity-20 rounded-full flex items-center justify-center mb-5 mx-auto">
          <i class="fas fa-layer-group text-secondary text-xl"></i>
        </div>
        <h3 class="text-xl font-medium mb-3 text-center text-accent">Flashcards</h3>
        <p class="text-gray-600 text-center">Hiragana, Katakana, dan Kanji disajikan dalam kartu interaktif yang mudah diingat.</p>
      </div>

      <!-- Feature 5 - Quiz Interaktif -->
      <div class="feature-card p-8 rounded-xl bg-white shadow-sm hover:shadow-md transition-shadow duration-300 border border-natural">
        <div class="w-12 h-12 bg-primary bg-opacity-20 rounded-full flex items-center justify-center mb-5 mx-auto">
          <i class="fas fa-question-circle text-secondary text-xl"></i>
        </div>
        <h3 class="text-xl font-medium mb-3 text-center text-accent">Quiz Interaktif</h3>
        <p class="text-gray-600 text-center">Latihan menyenangkan dengan umpan balik instan, seperti permainan tradisional Jepang.</p>
      </div>

      <!-- Feature 6 - Training Conversation -->
      <div class="feature-card p-8 rounded-xl bg-white shadow-sm hover:shadow-md transition-shadow duration-300 border border-natural">
        <div class="w-12 h-12 bg-primary bg-opacity-20 rounded-full flex items-center justify-center mb-5 mx-auto">
          <i class="fas fa-comments text-secondary text-xl"></i>
        </div>
        <h3 class="text-xl font-medium mb-3 text-center text-accent">Training Conversation</h3>
        <p class="text-gray-600 text-center">Praktik percakapan sehari-hari dengan skenario realistis dengan gemini.</p>
      </div>
    </div>
  </div>
</section>

    <!-- CTA Section -->
    <section class="py-16 natural-bg">
      <div class="container mx-auto px-4 text-center">
        <div class="max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-sm wabi-border">
          <h2 class="text-2xl font-medium mb-4">Siap Memulai Pembelajaran?</h2>
          <button id="signInBtn" class="bg-white border border-gray-300 rounded-lg px-6 py-3 text-gray-700 font-medium hover:bg-gray-50 transition-colors duration-200 shadow-md hover:shadow-lg flex items-center mx-auto">
            <svg class="w-5 h-5 mr-3" viewBox="0 0 24 24">
              <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" />
              <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" />
              <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" />
              <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" />
            </svg>
            Masuk dengan Google
          </button>

          <p class="mt-4 text-gray-500 text-sm">Platform disusun oleh tutor berpengalaman yg memiliki spesialiasi dalam mengajar bahasa jepang tingkat level N5-N4</p>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="py-8 bg-accent text-white">
      <div class="container mx-auto px-4 text-center">
        <div class="flex justify-center space-x-6 mb-6">
          <a href="#" class="hover:text-primary transition duration-300">
            <i class="fab fa-twitter"></i>
          </a>
          <a href="#" class="hover:text-primary transition duration-300">
            <i class="fab fa-instagram"></i>
          </a>
          <a href="#" class="hover:text-primary transition duration-300">
            <i class="fab fa-youtube"></i>
          </a>
        </div>
        <p class="text-gray-300 text-sm">&copy; Yuichiro | <span id="currentYear"></span>2025</p>
      </div>
    </footer>
    <!-- Firebase Configuration -->
    <script>
      // Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyDpyrC1-1xl6pyCLKBd4mZbW93K1F95FJs",
        authDomain: "nihongo-journey.firebaseapp.com",
        projectId: "nihongo-journey",
        storageBucket: "nihongo-journey.firebasestorage.app",
        messagingSenderId: "966989016758",
        appId: "1:966989016758:web:25d43be34bbc1a1342c017",
        measurementId: "G-2J392RPFMR",
      };

      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      const auth = firebase.auth();
      const provider = new firebase.auth.GoogleAuthProvider();

      // Add additional scopes for better user info
      provider.addScope("profile");
      provider.addScope("email");

      // Sign in with Google
      document.getElementById("signInBtn").addEventListener("click", async () => {
        try {
          console.log("Starting Google sign in...");
          const result = await auth.signInWithPopup(provider);
          const user = result.user;

          console.log("Google sign in successful, getting ID token...");
          const idToken = await user.getIdToken();

          console.log("Sending token to backend...");
          // Send token to backend
          const response = await fetch("/api/auth/signin", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({ idToken }),
          });

          const responseData = await response.json();
          console.log("Backend response:", responseData);

          if (response.ok && responseData.success) {
            console.log("Authentication successful, redirecting...");
            // Redirect to dashboard
            window.location.href = "/Dashboard/user";
          } else {
            console.error("Authentication failed:", responseData);
            alert("Login gagal: " + (responseData.error || "Unknown error"));
          }
        } catch (error) {
          console.error("Error during sign in:", error);
          alert("Terjadi kesalahan saat login: " + error.message);
        }
      });

      // Check if user is already signed in
      auth.onAuthStateChanged(async (user) => {
        if (user) {
          try {
            console.log("User already signed in, verifying session...");

            // Check if we already have a valid session cookie
            const sessionCheck = await fetch("/api/user/profile");

            if (sessionCheck.ok) {
              console.log("Valid session found, redirecting...");
              // Already authenticated with valid session
              window.location.href = "/Dashboard/user";
              return;
            }

            // No valid session, create new one
            console.log("No valid session, creating new session...");
            const idToken = await user.getIdToken();
            const response = await fetch("/api/auth/signin", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({ idToken }),
            });

            const responseData = await response.json();

            if (response.ok && responseData.success) {
              console.log("Session created, redirecting...");
              window.location.href = "/Dashboard/user";
            } else {
              console.log("Session creation failed:", responseData);
            }
          } catch (error) {
            console.error("Auto sign-in failed:", error);
          }
        } else {
          console.log("No user signed in");
        }
      });
    </script>
  </body>
</html>
